- content_for :title, "Team 4 - Site metrics"
= include_gon
= additional_javascript('metrics')

.container-fluid.pad-edge
  .pt-5
    .h1 Metrics Summary For The System

.row.m-3
  %h1.m-3.text-center Products Statistics
  #products-barchart-div.justify-content-center.bg-light-green.col-xl-6
    %h2#products-barchart-title.text-center Product Additions By Category (Total: #{@products.size})
    %svg#products-barchart-plot.d-block.m-auto

  #products-linechart-div.justify-content-center.bg-light-green.col-xl-6
    %h2#products-linechart-title.text-center Product Additions Over Time
    %svg#products-linechart-plot.d-block.m-auto

.row.m-3
  %h1.m-3.text-center Visitor Statistics
  #visits-barchart-div.justify-content-center.bg-light-green.col-xl-6
    %h2#visits-barchart-title.text-center Site Visits by Page (Total: #{@visits.size})
    %svg#visits-barchart-plot.d-block.m-auto

  #visits-linechart-div.justify-content-center.bg-light-green.col-xl-6
    %h2#visits-linechart-title.text-center Landing Page Visits Over Time
    %svg#visits-linechart-plot.d-block.m-auto

.row.m-3
  %h1.mt-5.mb-3.text-center Visitor Geography Statistics
  #visits-geochart-div.justify-content-center.bg-light-green.col-xl-6
    %svg#visits-geo-plot.d-block.m-auto{width: "500px", height: "800px"}

  #registrations-geo-div.justify-content-center.bg-light-green.col-xl-6
    %h2#registrations-geo-title.text-center Site Visits By UK County
    .container
      %table#visits-geo-table.table.w-75.m-5.d-block.overflow-scroll{'height': '600px'}
        %thead
          %tr
            %th County
            %th Visitors
        %tbody#county-visits-list

.row.m-3
  %h1.mt-5.mb-3.text-center Registration Statistics
  #registrations-barchart-div.justify-content-center.bg-light-green.col-xl-6
    %h2#registrations-barchart-title.text-center Site Registrations by Vocation (Total: #{@registrations.size})
    %svg#registrations-barchart-plot.d-block.m-auto

  #registrations-linechart-div.justify-content-center.bg-light-green.col-xl-6
    %h2#registrations-linechart-title.text-center Site Registrations Over Time
    %svg#registrations-linechart-plot.d-block.m-auto

.row.m-3
  %h1.mt-5.mb-3.text-center Registration Geography Statistics
  #registrations-geochart-div.justify-content-center.bg-light-green.col-xl-6
    %svg#registrations-geo-plot.d-block.m-auto{width: "500px", height: "800px"}

  #registrations-geo-div.justify-content-center.bg-light-green.col-xl-6
    %h2#registrations-geo-title.text-center Site Registrations By UK County
    .container
      %table#registrations-geo-table.table.w-75.m-5.d-block.overflow-scroll{'height': '600px'}
        %thead
          %tr
            %th County
            %th Registrations
        %tbody#county-registrations-list

.row.m-3
  %h1.mt-5.mb-3.text-center Feature Interest Statistics
  #feature-shares-div.justify-content-center.bg-light-green.col-xl-6
    %h2#feature-shares-barchart-title.text-center Shares By Feature (Total: #{@shares.size})
    %svg#feature-shares-barchart-plot.d-block.m-auto

  #feature-shares-div.justify-content-center.bg-light-green.col-xl-6
    %h2#feature-views-barchart-title.text-center Views By Feature (Total: NEEDS IMPLEMENTING)
    %svg#feature-views-barchart-plot.d-block.m-auto

.row.m-3
  %h1#flow-report-title.text-center User Flow Report
  #flow-report-div.justify-content-center.bg-light-green
    .row.m-3
      .container.col-xl-4.overflow-scroll
        %table#registrations-geo-table.table.d-block.overflow-scroll{'height': '600px'}
          %thead
            %tr
              %th Registered?
              %th Session
          %tbody#sessions-list

      .container.col-xl-8.overflow-scroll
        %table#registrations-geo-table.table.d-block.overflow-scroll{'height': '600px'}
          %thead
            %tr
              %th State
              %th Page
              %th Time Spent

          %tbody#flow-list

    %svg#flow-report-plot.d-block.m-auto.col-xl-12